.o-listing__products:not(.card-columns-plp )
  ul.m-product__listingPlp
    list-style: none;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    flex-grow: 1;
    height: auto;
    column-gap: 1rem;

    // margin: -6px
    li.m-product__card
      // min-width: 226px;
      // max-width: 260px;
      // margin-bottom: 1rem;
      height: 390px;
      overflow: hidden;
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.15);
      // margin: 6px
      // width: 24%;
      border-radius: 4px;
      // margin: 5px;

      figure.m-plp-product-card
        height: 390px;
        max-height: 390px;
        margin-bottom: 0;
        transition: max-height 0.4s ease-out;

        // .m-ratings
        //   visibility: hidden;
        //   opacity: 0;
        //   transition: visibility 0s ease-out, opacity 500ms ease-out;

        // .m-compare__products
        //   visibility: hidden;
        //   opacity: 0;
        //   transition: visibility 0s ease-out, opacity 500ms ease-out;

      // &:hover
      //   overflow: visible;
      //   z-index: 2;
      //   cursor: pointer;

      //   // height: 0px
      //   figure
      //     max-height: 600px;
      //     min-height: 390px;
      //     height: auto;
      //     transition: max-height 0.4s linear;

      //     .m-ratings
      //       visibility: visible;
      //       opacity: 1;
      //       transition: visibility 0s ease-in, opacity 500ms ease-in;

      //     .m-compare__products
      //       visibility: visible;
      //       opacity: 1;
      //       transition: visibility 0s ease-in, opacity 500ms ease-in;

// .card-columns-plp
//   ul.m-product__listingPlp
//     li.m-product__card
//       margin-bottom: 0;
//       max-height: 290px;

//       figure.card.m-plp-product-card.m-card
//         display: flex;
//         justify-content: space-between;
//         flex-wrap: nowrap;
//         flex-direction: row;
//         // min-height: 290px;
//         width: 100%;
//         margin-top: 3px;

//         &:hover
//           transform: translate3d(0, 0, 100px);
//           box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.15);
//           z-index: 2;

//         .o-card__image__container
//           align-self: flex-start;
//           max-width: 25%;

//       figcaption.a-plp-product-info
//         .m-compare__products
//           display: none;

// .card-columns-plp
//   .m-plp-flag-container
//     .a-flag:not(:first-child)
//       display: block;

//   figure.card
//     display: inline-block;
//     margin-bottom: 0;
//     padding: 0px 1rem;
//     box-sizing: border-box;
//     min-height: 215px;
//     max-height: 272px;

// @media only screen and (min-width: 768px) and (max-width: 1279px)
//   .o-listing__products:not(.card-columns-plp )
//     ul.m-product__listingPlp
//       li.m-product__card
//         width: 32%;
//         max-width: 307px;

// // Mobile
// @media only screen and (max-width: 991px)
//   .o-listing__products:not(.card-columns-plp )
//     ul.m-product__listingPlp
//       display: block;
//       column-count: 3;
//       column-gap: 0.5rem;
//       margin: 0;

//       li.m-product__card
//         height: auto;
//         width: 100%;
//         margin: 0 0 0.5rem 0;
//         break-inside: avoid;
//         max-width: none;
//         min-width: auto;

//         figure.m-plp-product-card
//           height: auto;
//           max-height: none;

//           .m-ratings, .m-compare__products
//             visibility: visible;
//             opacity: 1;

//           .o-card__image__container
//             min-height: auto;

//             img:first-child
//               position: relative;

//             img:last-child
//               display: none;

//   .card-columns-plp
//     margin: -0.5rem;

//     .m-product__listingPlp
//       li.m-product__card
//         figure.card.m-plp-product-card.m-card
//           padding: 0.5rem;

//           .o-card__image__container
//             margin: 20px 0.5rem;

//             // align-self: flex-start
//             // margin: 0 .5rem;
//             // min-height: inherit
//             // max-width: 231px;
//             img
//               height: auto;

// @media only screen and (max-width: 767px)
//   .o-listing__products:not(.card-columns-plp )
//     ul.m-product__listingPlp
//       column-count: 2;
//       column-gap: 0.5rem;
//       margin: 0;

//       li.m-product__card
//         width: 100%;
//         max-width: none;
//         margin: 0 0 0.5rem 0;

// // Media queries for list view in mobile small
// @media only screen and (max-width: 500px)
//   .card-columns-plp
//     ul.m-product__listingPlp
//       li.m-product__card
//         figure.card.m-plp-product-card.m-card
//           padding: 0.5rem;

//           .o-card__image__container
//             max-width: 40%;
//             margin: 20px 10px 0 0;

// @media only screen and (min-width: 991px)
//   .card-columns-plp
//     .m-product__listingPlp
//       li.m-product__card
//         figure.card.m-plp-product-card.m-card
//           // padding: .5rem
//           .o-card__image__container
//             margin: 0 0.5rem;
//             align-self: center !important;

// @media only screen and (min-width: 1280px) and (max-width: 1341px)
//   .o-listing__products:not(.card-columns-plp ) ul.m-product__listingPlp li.m-product__card
//     width: 23%;

// @media screen and (max-width: 991px)
//   .card-columns-plp .m-plp-product-card
//     min-height: 148px !important;
//     max-height: 270px !important;

// ============= MASONRY GRID =============
.marginTop-8
  margin-top: 8px

.o-listing__products:not(.card-columns-plp )
  ul.m-product__listingPlp
    padding-left: 0px;
    width: 100%;

    li.card-masonry
      list-style: none;
      // width: 49%;
      height: auto;
      margin-bottom: 8px

      figure
        height: auto !important;
        max-height: none !important;
        padding: 0 0.7rem;

        .o-card__image__container
          margin-top: 8px;

        figcaption
          article.d-flex
            margin-bottom: 8px;

          h5
            height: auto !important;
            margin-bottom: 0px !important;

          .m-ratings
            ul
              margin-top: 0px;

          .m-plp-flag-container
            span.a-flag
              display: table !important;
              height: auto;

    .w-50
      width: 50%;

@media only screen and (min-width: 1280px)
  .m-product__listingPlp
    li.card-masonry
      width: 24.3%

@media only screen and (min-width: 992px)
  .o-listing__products:not(.card-columns-plp)
    ul.m-product__listingPlp
      li.card-masonry
        height: 390px;
        margin-bottom: 8px;
        transition: height 0.4s linear !important

        figure
          height: 390px !important;
          margin-bottom: 0;
          transition: height 0.4s ease-out

          .m-ratings
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s ease-out, opacity 500ms ease-out;

        &:hover
          height: auto
          visibility: visible;
          opacity: 1;
          z-index: 2;
          box-shadow: 0 2px 15px 1px rgba(0,0,0,0.3);
          transition: height 0.4s linear !important

          figure.m-plp-product-card
            max-height: 600px !important;
            min-height: 390px !important;
            height: auto !important;

            .m-ratings
              visibility: visible;
              opacity: 1;
              z-index: 2;
              cursor: pointer;
              transition: visibility 0s ease-in, opacity 500ms ease-in;

            .m-checkbox__button
              .mdc-checkbox ~ label
                font: $caption

@media only screen and (max-width: 991px)
  .m-product__listingPlp
    li.card-masonry
      // width: 32.6% !important
      figure
        figcaption
          article.d-flex
            margin-bottom: 8px;

            h5
              font: $body2
  .card-columns-plp-masonry
                      margin -0.5rem
@media only screen and (min-width: 768px) and (max-width: 1279px)
  .m-product__listingPlp
    li.card-masonry
      width: 32.6%

@media only screen and (max-width: 767px)
  .m-product__listingPlp
    li.card-masonry
      width: 49%

@media only screen and (max-width: 367px)
  .o-listing__products:not(.card-columns-plp )
    ul.m-product__listingPlp
      li.card-masonry
        width: 48.5%;

// LIST MODE
.card-columns-plp-masonry
  .m-product__listingPlp
    li.card-masonry
      width: 100%;
      height: auto;
      margin-bottom: 0px;

      .m-plp-card-container
        position: relative;
        height: 100%;

        figure.m-plp-product-card
          border-radius: 4px;
          border: none;
          box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.15);
          background-color: #fff;
          width: 100%;
          display: flex;
          justify-content: space-between;
          flex-wrap: nowrap;
          flex-direction: row;
          margin-bottom: 5px !important;
          height: auto !important;
          padding: 0 0.7rem;

          .o-card__image__container
            align-self: flex-start;
            max-width: 40%;
            margin: 20px 0.5rem;

          figcaption.m-figureCard__figcaption
            justify-content: center;

            h5.card-title
              font: $body2
              height: auto !important

            .a-plp-color.a-product__color
              height: 16px;
              width: 16px;

            .m-plp-flag-container
              .a-flag
                display: table !important;

@media only screen and (min-width: 1024px)
  .card-columns-plp-masonry
    .m-product__listingPlp
      li.card-masonry
        width: 100% !important;

        .m-plp-card-container
          figure.m-plp-product-card
            figcaption.m-figureCard__figcaption
              .m-checkbox__button
                display: inline-flex !important;
                font: $body1  !important;

@media only screen and (min-width: 992px)
  .card-columns-plp-masonry
    .m-product__listingPlp 
      li.card-masonry
        .m-plp-card-container
          figure.m-plp-product-card
            .o-card__image__container
              max-width: 25% !important
            figcaption.m-figureCard__figcaption
              h5.card-title
                margin-bottom: 8px
              .m-ratings 
                ul
                  margin-top: 0px

@media only screen and (max-width: 991px)
  .card-columns-plp-masonry
    .m-product__listingPlp
      li.card-masonry
        figure
          figcaption
            article.d-flex
              margin-bottom: 8px;
            .m-ratings
              ul
                margin-top: 0px

@media only screen and (max-width: 500px)
  .card-columns-plp-masonry
    .m-product__listingPlp
      li.card-masonry
        width: 100%;

        .m-plp-card-container
          .m-plp-product-card, figure, figcaption
            article
              h5
                margin-right: 4px;